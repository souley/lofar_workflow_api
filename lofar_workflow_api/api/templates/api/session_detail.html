{% load static %}
{% load rest_framework %}

<head>
    <title>Session Viewer</title>
    
    <script type="text/javascript">
     function draw() {
         // Loop through all images
         for (var i = 0; i < document.images.length; i++) {
            // Create canvas element
            canvas = document.createElement('canvas');
            canvas.setAttribute('width', 700);
            canvas.setAttribute('height', 740);
            // Insert before the image
            document.images[i].parentNode.insertBefore(canvas,document.images[i]);
            ctx = canvas.getContext('2d');
            // Draw image to canvas
            ctx.drawImage(document.images[i], 15, 20);
         }
     }
     </script>
    
    <style>
        body {
            background: 0 -100px repeat-x #FFFFFF;
            margin: 10px;
        }
    
        img {
            display: none;
        }
    
        table {
            margin: 0 auto;
        }
    
        td {
            padding: 15px;
        }
    </style>
</head>

<html><body onload="draw();">
    
    <h1>Session ID: {{ session.id }}</h1>
    
    <h3>Observation: {{ session.observation }}</h3>

    <h3>Xenon-flow Job ID: {{ session.pipeline_response }}</h3>
    
    <h3>Xenon-flow Job Status: {{ session.status }}</h3>
    
    <table>
        <tr>
            <td><img src="{{ session.rw_fits }}"></td>
            <td><img src="{{ session.di_fits }}"></td>
        </tr>
    </table>

</body></html>
